function initFontSelect() { var h = document, c = h.getElementById("setfont"); if (!c) { return } var a = h.getElementById("font-select"), j = a.getElementsByTagName("li"), g = j.length, e = h.getElementById("setfont-text"), f = h.getElementById("main-list").getElementsByTagName("table"), b = f.length; for (var d = 0; d < g; d++) { if (/\w/.test("\u0130") && !window.XMLHttpRequest) { j[d].onmouseenter = function () { addClass(this, "gray-bg") }; j[d].onmouseleave = function () { removeClass(this, "gray-bg") } } j[d].onclick = function () { e.innerHTML = this.getAttribute("text"); addClass(a, "hide"); h.body.id = this.getAttribute("body-id"); if (/\w/.test("\u0130") && !window.XMLHttpRequest) { for (var i = 0; i < b; i++) { f[i].style.zoom = 1; f[i].style.zoom = "" } } } } c.onclick = function () { showOrHideClass(a, "hide"); return false } } function initSearch() { var l = document, j = l.getElementById("search-tabs"); if (!j) { return } var j = j.getElementsByTagName("li"), b = j.length, e = l.getElementById("search-args"), h = l.getElementById("search-btn"), a = l.getElementById("search-form"), i = l.getElementById("search-word"), d = "current", n; i.focus(); h.onclick = function () { a.action = n }; for (var c = 0; c < b; c++) { j[c].onclick = function () { if (this.className == d) { return false } i.value = ""; m(); this.className = d; g(); f(this.getAttribute("key")); i.focus(); return false } } function m() { for (var k = 0; k < b; k++) { j[k].className = "" } } function g() { while (e.children[0]) { e.removeChild(e.children[0]) } } function f(k) { var p = Config.FormConfig[k]["params"], o; n = Config.FormConfig[k]["action"]; for (var k in p) { if (k == "word" || k == "kw") { i.name = k; continue } o = l.createElement("input"); o.type = "hidden"; o.name = k; o.value = p[k]; e.appendChild(o) } } f("web") } function hasClass(b, a) { return -1 < (" " + b.className + " ").indexOf(" " + a + " ") } function addClass(b, a) { if (!hasClass(b, a)) { b.className += " " + a } } function removeClass(c, a) { if (hasClass(c, a)) { var b = new RegExp("(\\s|^)" + a + "(\\s|$)"); c.className = c.className.replace(b, " ") } } function showOrHideClass(b, a) { if (hasClass(b, a)) { removeClass(b, a) } else { addClass(b, a) } } function addFav(a) { a.link = a.link || window.location.href; if (document.all) { window.external.addFavorite(a.link, a.text) } else { try { window.sidebar.addPanel(a.text, a.link, "") } catch (b) { alert("请使用按键Ctrl+d，收藏网站") } } return false } function fineTitle() { var b = document.getElementById("main-list"); if (!b) { return } var a = b.getElementsByTagName("h5"), c = a.length; for (var d = 0; d < c; d++) { a[d].innerHTML = a[d].innerHTML.replace(/\d+/, "") } } initSearch(); initFontSelect(); fineTitle(); (function () { var b = document, a = b.getElementById("m-hd-fav"); if (a) { a.onclick = function () { addFav({ text: b.title, link: window.location }); return false } } else { window.onload = function () { a = b.getElementById("m-hd-fav"); if (!a) { return } a.onclick = function () { addFav({ text: b.title, link: window.location }); return false } } } })(); (function () { function a(b, d) { for (var c in d) { b[c] = d[c] } return b } a(Object, { extend: a }) })(); Object.extend(String, (function () { function a(c) { var b = Array.prototype.slice.call(arguments, 1); return c.replace(/{\d}/g, function (e) { var d = e.charAt(1); return b[d] }) } return { format: a} })()); window.Hao = window.Hao || {}; Hao.Hover = function (d, b) { if (d.length) { for (var c = 0, a = d.length; c < a; c++) { d[c].onmouseenter = function () { addClass(this, b) }; d[c].onmouseleave = function () { removeClass(this, b) } } } else { d.onmouseenter = function () { addClass(this, b) }; d.onmouseleave = function () { removeClass(this, b) } } }; Hao.Fill = function (c, d, g, b, h) { var j = [], f; if (typeof c == "string") { c = document.getElementById(c) } if (b) { j.push(b(d)) } for (var e = 0; e < d.length; e++) { f = d[e].cname ? String.format('class="{0}"', d[e].cname) : ""; var a = g(d[e], f); if (typeof a == "string") { j.push(a) } else { j.concat(a) } } if (h) { j.push(h(d)) } c.innerHTML = j.join("") }; Hao.Cookie = (function () { var e = document, b = new Date(), c = b.getFullYear(), d = b.getMonth(), a = b.getDate(); return { setCookie: function (f) { var g = f.name + "=" + encodeURIComponent(f.value); if (f.expires) { g += ";expires=" + f.expires.toGMTString() } if (f.path) { g += ";path=" + f.path } if (f.domain) { g += ";domain=" + f.domain } if (f.bSecure) { g += ";secure" } e.cookie = g }, getCookie: function (f) { var g = new RegExp("(?:; )?" + f + "=([^;]*);?"); if (g.test(e.cookie)) { return decodeURIComponent(RegExp["$1"]) } else { return null } }, getExpires: function (f) { var g = c, h = d, i = a; if (f.year) { g = c + f.year } if (f.month) { h = d + f.month } if (f.day) { i = a + f.day } return new Date(g, h, i) } } })(); Hao.DataLoader = function () { function b() { if (typeof XMLHttpRequest != "undefined") { b = function () { return new XMLHttpRequest() } } else { b = function () { return new ActiveXObject("Msxml2.XMLHTTP") } } return b() } function a(e) { if (!e) { return null } var c = [], d; for (d in e) { if (e.hasOwnProperty(d)) { c.push(encodeURIComponent(d) + "=" + encodeURIComponent(e[d])) } } return c.join("&") } return { load: function (l) { var k = b(), d = l.requestURL, f = l.callBack, i = l.errorCallBack, c = l.isGet === undefined ? true : l.isGet, j = l.parameter, h = l.isText === undefined ? true : l.isText, g = l.isAsyn === undefined ? true : l.isAsyn, e; if (c) { k.open("get", d, g); k.send(null) } else { k.open("post", d, g); k.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); k.send(a(j)) } if (!g) { if (k.status >= 200 && k.status < 300 || k.status == 304) { e = new Date(k.getResponseHeader("Date")); if (h) { return { data: k.responseText, time: e} } else { return { data: k.responseXML, time: e} } } else { return { data: null, status: k.status} } } k.onreadystatechange = function () { if (k.readyState == 4) { e = new Date(k.getResponseHeader("Date")); if (k.status >= 200 && k.status < 300 || k.status == 304) { if (h) { f({ data: k.responseText, time: e }) } else { f({ data: k.responseXML, time: e }) } } else { if (i) { i(k.status) } } } } } } }; Hao.ScriptLoader = function (i) { i = i || {}; var h = document, g = null, a = /\w/.test("\u0130"), f = h.getElementsByTagName("head")[0], e = i.onSuccess, c = i.onError, b = i.onRequest; function d(j) { j.type = "text/javascript"; j.onload = j.onreadystatechange = function () { if (j.readyState && j.readyState == "loading") { return } if (e && typeof e === "function") { e() } }; if (c && typeof c === "function") { j.onerror = function () { c() } } } return { request: function (k) { var j = null; if (g === null) { g = h.createElement("script"); d(g); g.src = k; f.appendChild(g) } else { if (a) { g.src = k } else { j = h.createElement("script"); d(j); j.src = k; f.replaceChild(j, g); g = j } } if (b && typeof b === "function") { b() } } } }; var UA = (function (b, i) { var j = { ie: "msie", sf: "safari", tt: "tencenttraveler" }, c = { browser: "(" + j.ie + "|" + j.sf + "|firefox|chrome|opera)", shell: "(maxthon|360se|theworld|se|theworld|greenbrowser|qqbrowser)", tt: "(tencenttraveler)", os: "(windows nt|macintosh|solaris|linux)" }, f = function (m) { var l = new RegExp(m + "\\b[ \\/]?([\\w\\.]*)", "i"), k = i.match(l); return k ? k.slice(1) : ["", ""] }, a = function () { var k = i.toLowerCase().indexOf("360chrome") > -1 ? !!1 : !1, l; try { if (b.external && b.external.twGetRunPath) { l = b.external.twGetRunPath; if (l && l.toLowerCase().indexOf("360se") > -1) { k = !!1 } } } catch (m) { k = !1 } return k } (), e = function () { try { if (/(\d+\.\d)/.test(external.max_version)) { return parseFloat(RegExp["\x241"]) } } catch (k) { } } (), g = f(c.browser), h = f(c.shell), d = f(c.os); if (g[0].toLowerCase() === j.ie) { if (a) { h = ["360se", ""] } else { if (e) { h = ["maxthon", e] } else { if (h == ",") { h = f(c.tt) } } } } else { if (g[0].toLowerCase() === j.sf) { g[1] = f("version") + "." + g[1] } } return { browser: g.join(","), shell: h.join(","), os: d.join(",")} })(window, navigator.userAgent); var indexSetHome = { config: { helpUrl: "http://www.hao123.com/redian/sheshouyef.htm", shell: { "360se": "02", maxthon: "03", se: "04", qqbrowser: "05", theworld: "10", greenbrowser: "12" }, browser: { firefox: "ff", chrome: "08", opera: "09", safari: "11"} }, set: function (d, b) { var g = UA.browser.split(",")[0].toLowerCase(), h = UA.shell.split(",")[0].toLowerCase(), f = this.config, j = f.helpUrl, c = "您的浏览器不支持，请手动设置", a = function () { try { d.style.behavior = "url(#default#homepage)"; d.setHomePage(b) } catch (k) { alert(c) } }; if (g === "msie" && (!h || h === "tencenttraveler")) { a(); return false } else { if (h && f.shell[h]) { j += "#" + f.shell[h]; if (h === "maxthon") { try { if (external.max_version) { window.open(j); return false } else { a(); return false } } catch (i) { a(); return false } } else { window.open(j); return false } } else { if (f.browser[g]) { if (g === "chrome") { try { if (external.max_version) { j += "#03"; window.open(j); return false } else { j += "#" + f.browser[g]; window.open(j); return false } } catch (i) { j += "#" + f.browser[g]; window.open(j); return false } } else { j += "#" + f.browser[g]; window.open(j); return false } } else { alert(c); return false } } } }, bind: function (c, b) { c = typeof c === "string" ? document.getElementById(c) : c; b = b || "http://www.cooc123.com"; var d = this, a = document.addEventListener ? function (f, e, g) { f.addEventListener(e, g, !1) } : function (f, e, g) { f.attachEvent("on" + e, g) }; a(c, "click", function () { d.set(c, b); return false }); return this } }; function fineEvent(e) {
    if (window.event) {
        e = window.event;
        e.target = e.srcElement;
    }
    return e;
}